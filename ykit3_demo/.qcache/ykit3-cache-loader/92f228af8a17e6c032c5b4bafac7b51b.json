{"remainingRequest":"/usr/local/lib/node_modules/@qnpm/ykit3-cli/node_modules/babel-loader/lib/index.js??ref--4-2!/usr/local/lib/node_modules/@qnpm/ykit3-cli/node_modules/@qnpm/ykit3-config-resolver/lib/addHotCodeLoader.js!/usr/local/lib/node_modules/@qnpm/ykit3-cli/node_modules/node-libs-browser/node_modules/punycode/punycode.js","dependencies":[{"path":"/usr/local/lib/node_modules/@qnpm/ykit3-cli/node_modules/node-libs-browser/node_modules/punycode/punycode.js","hash":"1dc3f52fbd74bd297c46f397e05670dd"},{"path":"/usr/local/lib/node_modules/@qnpm/ykit3-cli/node_modules/cache-loader-hash/dist/cjs.js","hash":"d62e2d390167bf8193569f1644327c55"},{"path":"/usr/local/lib/node_modules/@qnpm/ykit3-cli/node_modules/babel-loader/lib/index.js","hash":"19adf3159c902f1ed7907f3931384270"},{"path":"/usr/local/lib/node_modules/@qnpm/ykit3-cli/node_modules/@qnpm/ykit3-config-resolver/lib/addHotCodeLoader.js","hash":"c8cef10933c4d5175b7cf2b36412e500"}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mIjsgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gInN5bWJvbCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/ICJzeW1ib2wiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9CgovKiEgaHR0cHM6Ly9tdGhzLmJlL3B1bnljb2RlIHYxLjQuMSBieSBAbWF0aGlhcyAqLwo7CgooZnVuY3Rpb24gKHJvb3QpIHsKICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGVzICovCiAgdmFyIGZyZWVFeHBvcnRzID0gKHR5cGVvZiBleHBvcnRzID09PSAidW5kZWZpbmVkIiA/ICJ1bmRlZmluZWQiIDogX3R5cGVvZihleHBvcnRzKSkgPT0gJ29iamVjdCcgJiYgZXhwb3J0cyAmJiAhZXhwb3J0cy5ub2RlVHlwZSAmJiBleHBvcnRzOwogIHZhciBmcmVlTW9kdWxlID0gKHR5cGVvZiBtb2R1bGUgPT09ICJ1bmRlZmluZWQiID8gInVuZGVmaW5lZCIgOiBfdHlwZW9mKG1vZHVsZSkpID09ICdvYmplY3QnICYmIG1vZHVsZSAmJiAhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTsKICB2YXIgZnJlZUdsb2JhbCA9ICh0eXBlb2YgZ2xvYmFsID09PSAidW5kZWZpbmVkIiA/ICJ1bmRlZmluZWQiIDogX3R5cGVvZihnbG9iYWwpKSA9PSAnb2JqZWN0JyAmJiBnbG9iYWw7CgogIGlmIChmcmVlR2xvYmFsLmdsb2JhbCA9PT0gZnJlZUdsb2JhbCB8fCBmcmVlR2xvYmFsLndpbmRvdyA9PT0gZnJlZUdsb2JhbCB8fCBmcmVlR2xvYmFsLnNlbGYgPT09IGZyZWVHbG9iYWwpIHsKICAgIHJvb3QgPSBmcmVlR2xvYmFsOwogIH0KICAvKioKICAgKiBUaGUgYHB1bnljb2RlYCBvYmplY3QuCiAgICogQG5hbWUgcHVueWNvZGUKICAgKiBAdHlwZSBPYmplY3QKICAgKi8KCgogIHZhciBwdW55Y29kZSwKCiAgLyoqIEhpZ2hlc3QgcG9zaXRpdmUgc2lnbmVkIDMyLWJpdCBmbG9hdCB2YWx1ZSAqLwogIG1heEludCA9IDIxNDc0ODM2NDcsCiAgICAgIC8vIGFrYS4gMHg3RkZGRkZGRiBvciAyXjMxLTEKCiAgLyoqIEJvb3RzdHJpbmcgcGFyYW1ldGVycyAqLwogIGJhc2UgPSAzNiwKICAgICAgdE1pbiA9IDEsCiAgICAgIHRNYXggPSAyNiwKICAgICAgc2tldyA9IDM4LAogICAgICBkYW1wID0gNzAwLAogICAgICBpbml0aWFsQmlhcyA9IDcyLAogICAgICBpbml0aWFsTiA9IDEyOCwKICAgICAgLy8gMHg4MAogIGRlbGltaXRlciA9ICctJywKICAgICAgLy8gJ1x4MkQnCgogIC8qKiBSZWd1bGFyIGV4cHJlc3Npb25zICovCiAgcmVnZXhQdW55Y29kZSA9IC9eeG4tLS8sCiAgICAgIHJlZ2V4Tm9uQVNDSUkgPSAvW15ceDIwLVx4N0VdLywKICAgICAgLy8gdW5wcmludGFibGUgQVNDSUkgY2hhcnMgKyBub24tQVNDSUkgY2hhcnMKICByZWdleFNlcGFyYXRvcnMgPSAvW1x4MkVcdTMwMDJcdUZGMEVcdUZGNjFdL2csCiAgICAgIC8vIFJGQyAzNDkwIHNlcGFyYXRvcnMKCiAgLyoqIEVycm9yIG1lc3NhZ2VzICovCiAgZXJyb3JzID0gewogICAgJ292ZXJmbG93JzogJ092ZXJmbG93OiBpbnB1dCBuZWVkcyB3aWRlciBpbnRlZ2VycyB0byBwcm9jZXNzJywKICAgICdub3QtYmFzaWMnOiAnSWxsZWdhbCBpbnB1dCA+PSAweDgwIChub3QgYSBiYXNpYyBjb2RlIHBvaW50KScsCiAgICAnaW52YWxpZC1pbnB1dCc6ICdJbnZhbGlkIGlucHV0JwogIH0sCgogIC8qKiBDb252ZW5pZW5jZSBzaG9ydGN1dHMgKi8KICBiYXNlTWludXNUTWluID0gYmFzZSAtIHRNaW4sCiAgICAgIGZsb29yID0gTWF0aC5mbG9vciwKICAgICAgc3RyaW5nRnJvbUNoYXJDb2RlID0gU3RyaW5nLmZyb21DaGFyQ29kZSwKCiAgLyoqIFRlbXBvcmFyeSB2YXJpYWJsZSAqLwogIGtleTsKICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KCiAgLyoqCiAgICogQSBnZW5lcmljIGVycm9yIHV0aWxpdHkgZnVuY3Rpb24uCiAgICogQHByaXZhdGUKICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSBUaGUgZXJyb3IgdHlwZS4KICAgKiBAcmV0dXJucyB7RXJyb3J9IFRocm93cyBhIGBSYW5nZUVycm9yYCB3aXRoIHRoZSBhcHBsaWNhYmxlIGVycm9yIG1lc3NhZ2UuCiAgICovCgogIGZ1bmN0aW9uIGVycm9yKHR5cGUpIHsKICAgIHRocm93IG5ldyBSYW5nZUVycm9yKGVycm9yc1t0eXBlXSk7CiAgfQogIC8qKgogICAqIEEgZ2VuZXJpYyBgQXJyYXkjbWFwYCB1dGlsaXR5IGZ1bmN0aW9uLgogICAqIEBwcml2YXRlCiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci4KICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdGhhdCBnZXRzIGNhbGxlZCBmb3IgZXZlcnkgYXJyYXkKICAgKiBpdGVtLgogICAqIEByZXR1cm5zIHtBcnJheX0gQSBuZXcgYXJyYXkgb2YgdmFsdWVzIHJldHVybmVkIGJ5IHRoZSBjYWxsYmFjayBmdW5jdGlvbi4KICAgKi8KCgogIGZ1bmN0aW9uIG1hcChhcnJheSwgZm4pIHsKICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7CiAgICB2YXIgcmVzdWx0ID0gW107CgogICAgd2hpbGUgKGxlbmd0aC0tKSB7CiAgICAgIHJlc3VsdFtsZW5ndGhdID0gZm4oYXJyYXlbbGVuZ3RoXSk7CiAgICB9CgogICAgcmV0dXJuIHJlc3VsdDsKICB9CiAgLyoqCiAgICogQSBzaW1wbGUgYEFycmF5I21hcGAtbGlrZSB3cmFwcGVyIHRvIHdvcmsgd2l0aCBkb21haW4gbmFtZSBzdHJpbmdzIG9yIGVtYWlsCiAgICogYWRkcmVzc2VzLgogICAqIEBwcml2YXRlCiAgICogQHBhcmFtIHtTdHJpbmd9IGRvbWFpbiBUaGUgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcy4KICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdGhhdCBnZXRzIGNhbGxlZCBmb3IgZXZlcnkKICAgKiBjaGFyYWN0ZXIuCiAgICogQHJldHVybnMge0FycmF5fSBBIG5ldyBzdHJpbmcgb2YgY2hhcmFjdGVycyByZXR1cm5lZCBieSB0aGUgY2FsbGJhY2sKICAgKiBmdW5jdGlvbi4KICAgKi8KCgogIGZ1bmN0aW9uIG1hcERvbWFpbihzdHJpbmcsIGZuKSB7CiAgICB2YXIgcGFydHMgPSBzdHJpbmcuc3BsaXQoJ0AnKTsKICAgIHZhciByZXN1bHQgPSAnJzsKCiAgICBpZiAocGFydHMubGVuZ3RoID4gMSkgewogICAgICAvLyBJbiBlbWFpbCBhZGRyZXNzZXMsIG9ubHkgdGhlIGRvbWFpbiBuYW1lIHNob3VsZCBiZSBwdW55Y29kZWQuIExlYXZlCiAgICAgIC8vIHRoZSBsb2NhbCBwYXJ0IChpLmUuIGV2ZXJ5dGhpbmcgdXAgdG8gYEBgKSBpbnRhY3QuCiAgICAgIHJlc3VsdCA9IHBhcnRzWzBdICsgJ0AnOwogICAgICBzdHJpbmcgPSBwYXJ0c1sxXTsKICAgIH0gLy8gQXZvaWQgYHNwbGl0KHJlZ2V4KWAgZm9yIElFOCBjb21wYXRpYmlsaXR5LiBTZWUgIzE3LgoKCiAgICBzdHJpbmcgPSBzdHJpbmcucmVwbGFjZShyZWdleFNlcGFyYXRvcnMsICdceDJFJyk7CiAgICB2YXIgbGFiZWxzID0gc3RyaW5nLnNwbGl0KCcuJyk7CiAgICB2YXIgZW5jb2RlZCA9IG1hcChsYWJlbHMsIGZuKS5qb2luKCcuJyk7CiAgICByZXR1cm4gcmVzdWx0ICsgZW5jb2RlZDsKICB9CiAgLyoqCiAgICogQ3JlYXRlcyBhbiBhcnJheSBjb250YWluaW5nIHRoZSBudW1lcmljIGNvZGUgcG9pbnRzIG9mIGVhY2ggVW5pY29kZQogICAqIGNoYXJhY3RlciBpbiB0aGUgc3RyaW5nLiBXaGlsZSBKYXZhU2NyaXB0IHVzZXMgVUNTLTIgaW50ZXJuYWxseSwKICAgKiB0aGlzIGZ1bmN0aW9uIHdpbGwgY29udmVydCBhIHBhaXIgb2Ygc3Vycm9nYXRlIGhhbHZlcyAoZWFjaCBvZiB3aGljaAogICAqIFVDUy0yIGV4cG9zZXMgYXMgc2VwYXJhdGUgY2hhcmFjdGVycykgaW50byBhIHNpbmdsZSBjb2RlIHBvaW50LAogICAqIG1hdGNoaW5nIFVURi0xNi4KICAgKiBAc2VlIGBwdW55Y29kZS51Y3MyLmVuY29kZWAKICAgKiBAc2VlIDxodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC1lbmNvZGluZz4KICAgKiBAbWVtYmVyT2YgcHVueWNvZGUudWNzMgogICAqIEBuYW1lIGRlY29kZQogICAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmcgVGhlIFVuaWNvZGUgaW5wdXQgc3RyaW5nIChVQ1MtMikuCiAgICogQHJldHVybnMge0FycmF5fSBUaGUgbmV3IGFycmF5IG9mIGNvZGUgcG9pbnRzLgogICAqLwoKCiAgZnVuY3Rpb24gdWNzMmRlY29kZShzdHJpbmcpIHsKICAgIHZhciBvdXRwdXQgPSBbXSwKICAgICAgICBjb3VudGVyID0gMCwKICAgICAgICBsZW5ndGggPSBzdHJpbmcubGVuZ3RoLAogICAgICAgIHZhbHVlLAogICAgICAgIGV4dHJhOwoKICAgIHdoaWxlIChjb3VudGVyIDwgbGVuZ3RoKSB7CiAgICAgIHZhbHVlID0gc3RyaW5nLmNoYXJDb2RlQXQoY291bnRlcisrKTsKCiAgICAgIGlmICh2YWx1ZSA+PSAweEQ4MDAgJiYgdmFsdWUgPD0gMHhEQkZGICYmIGNvdW50ZXIgPCBsZW5ndGgpIHsKICAgICAgICAvLyBoaWdoIHN1cnJvZ2F0ZSwgYW5kIHRoZXJlIGlzIGEgbmV4dCBjaGFyYWN0ZXIKICAgICAgICBleHRyYSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7CgogICAgICAgIGlmICgoZXh0cmEgJiAweEZDMDApID09IDB4REMwMCkgewogICAgICAgICAgLy8gbG93IHN1cnJvZ2F0ZQogICAgICAgICAgb3V0cHV0LnB1c2goKCh2YWx1ZSAmIDB4M0ZGKSA8PCAxMCkgKyAoZXh0cmEgJiAweDNGRikgKyAweDEwMDAwKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gdW5tYXRjaGVkIHN1cnJvZ2F0ZTsgb25seSBhcHBlbmQgdGhpcyBjb2RlIHVuaXQsIGluIGNhc2UgdGhlIG5leHQKICAgICAgICAgIC8vIGNvZGUgdW5pdCBpcyB0aGUgaGlnaCBzdXJyb2dhdGUgb2YgYSBzdXJyb2dhdGUgcGFpcgogICAgICAgICAgb3V0cHV0LnB1c2godmFsdWUpOwogICAgICAgICAgY291bnRlci0tOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBvdXRwdXQucHVzaCh2YWx1ZSk7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gb3V0cHV0OwogIH0KICAvKioKICAgKiBDcmVhdGVzIGEgc3RyaW5nIGJhc2VkIG9uIGFuIGFycmF5IG9mIG51bWVyaWMgY29kZSBwb2ludHMuCiAgICogQHNlZSBgcHVueWNvZGUudWNzMi5kZWNvZGVgCiAgICogQG1lbWJlck9mIHB1bnljb2RlLnVjczIKICAgKiBAbmFtZSBlbmNvZGUKICAgKiBAcGFyYW0ge0FycmF5fSBjb2RlUG9pbnRzIFRoZSBhcnJheSBvZiBudW1lcmljIGNvZGUgcG9pbnRzLgogICAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBuZXcgVW5pY29kZSBzdHJpbmcgKFVDUy0yKS4KICAgKi8KCgogIGZ1bmN0aW9uIHVjczJlbmNvZGUoYXJyYXkpIHsKICAgIHJldHVybiBtYXAoYXJyYXksIGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICB2YXIgb3V0cHV0ID0gJyc7CgogICAgICBpZiAodmFsdWUgPiAweEZGRkYpIHsKICAgICAgICB2YWx1ZSAtPSAweDEwMDAwOwogICAgICAgIG91dHB1dCArPSBzdHJpbmdGcm9tQ2hhckNvZGUodmFsdWUgPj4+IDEwICYgMHgzRkYgfCAweEQ4MDApOwogICAgICAgIHZhbHVlID0gMHhEQzAwIHwgdmFsdWUgJiAweDNGRjsKICAgICAgfQoKICAgICAgb3V0cHV0ICs9IHN0cmluZ0Zyb21DaGFyQ29kZSh2YWx1ZSk7CiAgICAgIHJldHVybiBvdXRwdXQ7CiAgICB9KS5qb2luKCcnKTsKICB9CiAgLyoqCiAgICogQ29udmVydHMgYSBiYXNpYyBjb2RlIHBvaW50IGludG8gYSBkaWdpdC9pbnRlZ2VyLgogICAqIEBzZWUgYGRpZ2l0VG9CYXNpYygpYAogICAqIEBwcml2YXRlCiAgICogQHBhcmFtIHtOdW1iZXJ9IGNvZGVQb2ludCBUaGUgYmFzaWMgbnVtZXJpYyBjb2RlIHBvaW50IHZhbHVlLgogICAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBudW1lcmljIHZhbHVlIG9mIGEgYmFzaWMgY29kZSBwb2ludCAoZm9yIHVzZSBpbgogICAqIHJlcHJlc2VudGluZyBpbnRlZ2VycykgaW4gdGhlIHJhbmdlIGAwYCB0byBgYmFzZSAtIDFgLCBvciBgYmFzZWAgaWYKICAgKiB0aGUgY29kZSBwb2ludCBkb2VzIG5vdCByZXByZXNlbnQgYSB2YWx1ZS4KICAgKi8KCgogIGZ1bmN0aW9uIGJhc2ljVG9EaWdpdChjb2RlUG9pbnQpIHsKICAgIGlmIChjb2RlUG9pbnQgLSA0OCA8IDEwKSB7CiAgICAgIHJldHVybiBjb2RlUG9pbnQgLSAyMjsKICAgIH0KCiAgICBpZiAoY29kZVBvaW50IC0gNjUgPCAyNikgewogICAgICByZXR1cm4gY29kZVBvaW50IC0gNjU7CiAgICB9CgogICAgaWYgKGNvZGVQb2ludCAtIDk3IDwgMjYpIHsKICAgICAgcmV0dXJuIGNvZGVQb2ludCAtIDk3OwogICAgfQoKICAgIHJldHVybiBiYXNlOwogIH0KICAvKioKICAgKiBDb252ZXJ0cyBhIGRpZ2l0L2ludGVnZXIgaW50byBhIGJhc2ljIGNvZGUgcG9pbnQuCiAgICogQHNlZSBgYmFzaWNUb0RpZ2l0KClgCiAgICogQHByaXZhdGUKICAgKiBAcGFyYW0ge051bWJlcn0gZGlnaXQgVGhlIG51bWVyaWMgdmFsdWUgb2YgYSBiYXNpYyBjb2RlIHBvaW50LgogICAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBiYXNpYyBjb2RlIHBvaW50IHdob3NlIHZhbHVlICh3aGVuIHVzZWQgZm9yCiAgICogcmVwcmVzZW50aW5nIGludGVnZXJzKSBpcyBgZGlnaXRgLCB3aGljaCBuZWVkcyB0byBiZSBpbiB0aGUgcmFuZ2UKICAgKiBgMGAgdG8gYGJhc2UgLSAxYC4gSWYgYGZsYWdgIGlzIG5vbi16ZXJvLCB0aGUgdXBwZXJjYXNlIGZvcm0gaXMKICAgKiB1c2VkOyBlbHNlLCB0aGUgbG93ZXJjYXNlIGZvcm0gaXMgdXNlZC4gVGhlIGJlaGF2aW9yIGlzIHVuZGVmaW5lZAogICAqIGlmIGBmbGFnYCBpcyBub24temVybyBhbmQgYGRpZ2l0YCBoYXMgbm8gdXBwZXJjYXNlIGZvcm0uCiAgICovCgoKICBmdW5jdGlvbiBkaWdpdFRvQmFzaWMoZGlnaXQsIGZsYWcpIHsKICAgIC8vICAwLi4yNSBtYXAgdG8gQVNDSUkgYS4ueiBvciBBLi5aCiAgICAvLyAyNi4uMzUgbWFwIHRvIEFTQ0lJIDAuLjkKICAgIHJldHVybiBkaWdpdCArIDIyICsgNzUgKiAoZGlnaXQgPCAyNikgLSAoKGZsYWcgIT0gMCkgPDwgNSk7CiAgfQogIC8qKgogICAqIEJpYXMgYWRhcHRhdGlvbiBmdW5jdGlvbiBhcyBwZXIgc2VjdGlvbiAzLjQgb2YgUkZDIDM0OTIuCiAgICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM0OTIjc2VjdGlvbi0zLjQKICAgKiBAcHJpdmF0ZQogICAqLwoKCiAgZnVuY3Rpb24gYWRhcHQoZGVsdGEsIG51bVBvaW50cywgZmlyc3RUaW1lKSB7CiAgICB2YXIgayA9IDA7CiAgICBkZWx0YSA9IGZpcnN0VGltZSA/IGZsb29yKGRlbHRhIC8gZGFtcCkgOiBkZWx0YSA+PiAxOwogICAgZGVsdGEgKz0gZmxvb3IoZGVsdGEgLyBudW1Qb2ludHMpOwoKICAgIGZvciAoOwogICAgLyogbm8gaW5pdGlhbGl6YXRpb24gKi8KICAgIGRlbHRhID4gYmFzZU1pbnVzVE1pbiAqIHRNYXggPj4gMTsgayArPSBiYXNlKSB7CiAgICAgIGRlbHRhID0gZmxvb3IoZGVsdGEgLyBiYXNlTWludXNUTWluKTsKICAgIH0KCiAgICByZXR1cm4gZmxvb3IoayArIChiYXNlTWludXNUTWluICsgMSkgKiBkZWx0YSAvIChkZWx0YSArIHNrZXcpKTsKICB9CiAgLyoqCiAgICogQ29udmVydHMgYSBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzIHRvIGEgc3RyaW5nIG9mIFVuaWNvZGUKICAgKiBzeW1ib2xzLgogICAqIEBtZW1iZXJPZiBwdW55Y29kZQogICAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy4KICAgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgcmVzdWx0aW5nIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMuCiAgICovCgoKICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQpIHsKICAgIC8vIERvbid0IHVzZSBVQ1MtMgogICAgdmFyIG91dHB1dCA9IFtdLAogICAgICAgIGlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoLAogICAgICAgIG91dCwKICAgICAgICBpID0gMCwKICAgICAgICBuID0gaW5pdGlhbE4sCiAgICAgICAgYmlhcyA9IGluaXRpYWxCaWFzLAogICAgICAgIGJhc2ljLAogICAgICAgIGosCiAgICAgICAgaW5kZXgsCiAgICAgICAgb2xkaSwKICAgICAgICB3LAogICAgICAgIGssCiAgICAgICAgZGlnaXQsCiAgICAgICAgdCwKCiAgICAvKiogQ2FjaGVkIGNhbGN1bGF0aW9uIHJlc3VsdHMgKi8KICAgIGJhc2VNaW51c1Q7IC8vIEhhbmRsZSB0aGUgYmFzaWMgY29kZSBwb2ludHM6IGxldCBgYmFzaWNgIGJlIHRoZSBudW1iZXIgb2YgaW5wdXQgY29kZQogICAgLy8gcG9pbnRzIGJlZm9yZSB0aGUgbGFzdCBkZWxpbWl0ZXIsIG9yIGAwYCBpZiB0aGVyZSBpcyBub25lLCB0aGVuIGNvcHkKICAgIC8vIHRoZSBmaXJzdCBiYXNpYyBjb2RlIHBvaW50cyB0byB0aGUgb3V0cHV0LgoKICAgIGJhc2ljID0gaW5wdXQubGFzdEluZGV4T2YoZGVsaW1pdGVyKTsKCiAgICBpZiAoYmFzaWMgPCAwKSB7CiAgICAgIGJhc2ljID0gMDsKICAgIH0KCiAgICBmb3IgKGogPSAwOyBqIDwgYmFzaWM7ICsraikgewogICAgICAvLyBpZiBpdCdzIG5vdCBhIGJhc2ljIGNvZGUgcG9pbnQKICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQoaikgPj0gMHg4MCkgewogICAgICAgIGVycm9yKCdub3QtYmFzaWMnKTsKICAgICAgfQoKICAgICAgb3V0cHV0LnB1c2goaW5wdXQuY2hhckNvZGVBdChqKSk7CiAgICB9IC8vIE1haW4gZGVjb2RpbmcgbG9vcDogc3RhcnQganVzdCBhZnRlciB0aGUgbGFzdCBkZWxpbWl0ZXIgaWYgYW55IGJhc2ljIGNvZGUKICAgIC8vIHBvaW50cyB3ZXJlIGNvcGllZDsgc3RhcnQgYXQgdGhlIGJlZ2lubmluZyBvdGhlcndpc2UuCgoKICAgIGZvciAoaW5kZXggPSBiYXNpYyA+IDAgPyBiYXNpYyArIDEgOiAwOyBpbmRleCA8IGlucHV0TGVuZ3RoOykKICAgIC8qIG5vIGZpbmFsIGV4cHJlc3Npb24gKi8KICAgIHsKICAgICAgLy8gYGluZGV4YCBpcyB0aGUgaW5kZXggb2YgdGhlIG5leHQgY2hhcmFjdGVyIHRvIGJlIGNvbnN1bWVkLgogICAgICAvLyBEZWNvZGUgYSBnZW5lcmFsaXplZCB2YXJpYWJsZS1sZW5ndGggaW50ZWdlciBpbnRvIGBkZWx0YWAsCiAgICAgIC8vIHdoaWNoIGdldHMgYWRkZWQgdG8gYGlgLiBUaGUgb3ZlcmZsb3cgY2hlY2tpbmcgaXMgZWFzaWVyCiAgICAgIC8vIGlmIHdlIGluY3JlYXNlIGBpYCBhcyB3ZSBnbywgdGhlbiBzdWJ0cmFjdCBvZmYgaXRzIHN0YXJ0aW5nCiAgICAgIC8vIHZhbHVlIGF0IHRoZSBlbmQgdG8gb2J0YWluIGBkZWx0YWAuCiAgICAgIGZvciAob2xkaSA9IGksIHcgPSAxLCBrID0gYmFzZTs7CiAgICAgIC8qIG5vIGNvbmRpdGlvbiAqLwogICAgICBrICs9IGJhc2UpIHsKICAgICAgICBpZiAoaW5kZXggPj0gaW5wdXRMZW5ndGgpIHsKICAgICAgICAgIGVycm9yKCdpbnZhbGlkLWlucHV0Jyk7CiAgICAgICAgfQoKICAgICAgICBkaWdpdCA9IGJhc2ljVG9EaWdpdChpbnB1dC5jaGFyQ29kZUF0KGluZGV4KyspKTsKCiAgICAgICAgaWYgKGRpZ2l0ID49IGJhc2UgfHwgZGlnaXQgPiBmbG9vcigobWF4SW50IC0gaSkgLyB3KSkgewogICAgICAgICAgZXJyb3IoJ292ZXJmbG93Jyk7CiAgICAgICAgfQoKICAgICAgICBpICs9IGRpZ2l0ICogdzsKICAgICAgICB0ID0gayA8PSBiaWFzID8gdE1pbiA6IGsgPj0gYmlhcyArIHRNYXggPyB0TWF4IDogayAtIGJpYXM7CgogICAgICAgIGlmIChkaWdpdCA8IHQpIHsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgICAgYmFzZU1pbnVzVCA9IGJhc2UgLSB0OwoKICAgICAgICBpZiAodyA+IGZsb29yKG1heEludCAvIGJhc2VNaW51c1QpKSB7CiAgICAgICAgICBlcnJvcignb3ZlcmZsb3cnKTsKICAgICAgICB9CgogICAgICAgIHcgKj0gYmFzZU1pbnVzVDsKICAgICAgfQoKICAgICAgb3V0ID0gb3V0cHV0Lmxlbmd0aCArIDE7CiAgICAgIGJpYXMgPSBhZGFwdChpIC0gb2xkaSwgb3V0LCBvbGRpID09IDApOyAvLyBgaWAgd2FzIHN1cHBvc2VkIHRvIHdyYXAgYXJvdW5kIGZyb20gYG91dGAgdG8gYDBgLAogICAgICAvLyBpbmNyZW1lbnRpbmcgYG5gIGVhY2ggdGltZSwgc28gd2UnbGwgZml4IHRoYXQgbm93OgoKICAgICAgaWYgKGZsb29yKGkgLyBvdXQpID4gbWF4SW50IC0gbikgewogICAgICAgIGVycm9yKCdvdmVyZmxvdycpOwogICAgICB9CgogICAgICBuICs9IGZsb29yKGkgLyBvdXQpOwogICAgICBpICU9IG91dDsgLy8gSW5zZXJ0IGBuYCBhdCBwb3NpdGlvbiBgaWAgb2YgdGhlIG91dHB1dAoKICAgICAgb3V0cHV0LnNwbGljZShpKyssIDAsIG4pOwogICAgfQoKICAgIHJldHVybiB1Y3MyZW5jb2RlKG91dHB1dCk7CiAgfQogIC8qKgogICAqIENvbnZlcnRzIGEgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scyAoZS5nLiBhIGRvbWFpbiBuYW1lIGxhYmVsKSB0byBhCiAgICogUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy4KICAgKiBAbWVtYmVyT2YgcHVueWNvZGUKICAgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMuCiAgICogQHJldHVybnMge1N0cmluZ30gVGhlIHJlc3VsdGluZyBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzLgogICAqLwoKCiAgZnVuY3Rpb24gZW5jb2RlKGlucHV0KSB7CiAgICB2YXIgbiwKICAgICAgICBkZWx0YSwKICAgICAgICBoYW5kbGVkQ1BDb3VudCwKICAgICAgICBiYXNpY0xlbmd0aCwKICAgICAgICBiaWFzLAogICAgICAgIGosCiAgICAgICAgbSwKICAgICAgICBxLAogICAgICAgIGssCiAgICAgICAgdCwKICAgICAgICBjdXJyZW50VmFsdWUsCiAgICAgICAgb3V0cHV0ID0gW10sCgogICAgLyoqIGBpbnB1dExlbmd0aGAgd2lsbCBob2xkIHRoZSBudW1iZXIgb2YgY29kZSBwb2ludHMgaW4gYGlucHV0YC4gKi8KICAgIGlucHV0TGVuZ3RoLAoKICAgIC8qKiBDYWNoZWQgY2FsY3VsYXRpb24gcmVzdWx0cyAqLwogICAgaGFuZGxlZENQQ291bnRQbHVzT25lLAogICAgICAgIGJhc2VNaW51c1QsCiAgICAgICAgcU1pbnVzVDsgLy8gQ29udmVydCB0aGUgaW5wdXQgaW4gVUNTLTIgdG8gVW5pY29kZQoKICAgIGlucHV0ID0gdWNzMmRlY29kZShpbnB1dCk7IC8vIENhY2hlIHRoZSBsZW5ndGgKCiAgICBpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aDsgLy8gSW5pdGlhbGl6ZSB0aGUgc3RhdGUKCiAgICBuID0gaW5pdGlhbE47CiAgICBkZWx0YSA9IDA7CiAgICBiaWFzID0gaW5pdGlhbEJpYXM7IC8vIEhhbmRsZSB0aGUgYmFzaWMgY29kZSBwb2ludHMKCiAgICBmb3IgKGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikgewogICAgICBjdXJyZW50VmFsdWUgPSBpbnB1dFtqXTsKCiAgICAgIGlmIChjdXJyZW50VmFsdWUgPCAweDgwKSB7CiAgICAgICAgb3V0cHV0LnB1c2goc3RyaW5nRnJvbUNoYXJDb2RlKGN1cnJlbnRWYWx1ZSkpOwogICAgICB9CiAgICB9CgogICAgaGFuZGxlZENQQ291bnQgPSBiYXNpY0xlbmd0aCA9IG91dHB1dC5sZW5ndGg7IC8vIGBoYW5kbGVkQ1BDb3VudGAgaXMgdGhlIG51bWJlciBvZiBjb2RlIHBvaW50cyB0aGF0IGhhdmUgYmVlbiBoYW5kbGVkOwogICAgLy8gYGJhc2ljTGVuZ3RoYCBpcyB0aGUgbnVtYmVyIG9mIGJhc2ljIGNvZGUgcG9pbnRzLgogICAgLy8gRmluaXNoIHRoZSBiYXNpYyBzdHJpbmcgLSBpZiBpdCBpcyBub3QgZW1wdHkgLSB3aXRoIGEgZGVsaW1pdGVyCgogICAgaWYgKGJhc2ljTGVuZ3RoKSB7CiAgICAgIG91dHB1dC5wdXNoKGRlbGltaXRlcik7CiAgICB9IC8vIE1haW4gZW5jb2RpbmcgbG9vcDoKCgogICAgd2hpbGUgKGhhbmRsZWRDUENvdW50IDwgaW5wdXRMZW5ndGgpIHsKICAgICAgLy8gQWxsIG5vbi1iYXNpYyBjb2RlIHBvaW50cyA8IG4gaGF2ZSBiZWVuIGhhbmRsZWQgYWxyZWFkeS4gRmluZCB0aGUgbmV4dAogICAgICAvLyBsYXJnZXIgb25lOgogICAgICBmb3IgKG0gPSBtYXhJbnQsIGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikgewogICAgICAgIGN1cnJlbnRWYWx1ZSA9IGlucHV0W2pdOwoKICAgICAgICBpZiAoY3VycmVudFZhbHVlID49IG4gJiYgY3VycmVudFZhbHVlIDwgbSkgewogICAgICAgICAgbSA9IGN1cnJlbnRWYWx1ZTsKICAgICAgICB9CiAgICAgIH0gLy8gSW5jcmVhc2UgYGRlbHRhYCBlbm91Z2ggdG8gYWR2YW5jZSB0aGUgZGVjb2RlcidzIDxuLGk+IHN0YXRlIHRvIDxtLDA+LAogICAgICAvLyBidXQgZ3VhcmQgYWdhaW5zdCBvdmVyZmxvdwoKCiAgICAgIGhhbmRsZWRDUENvdW50UGx1c09uZSA9IGhhbmRsZWRDUENvdW50ICsgMTsKCiAgICAgIGlmIChtIC0gbiA+IGZsb29yKChtYXhJbnQgLSBkZWx0YSkgLyBoYW5kbGVkQ1BDb3VudFBsdXNPbmUpKSB7CiAgICAgICAgZXJyb3IoJ292ZXJmbG93Jyk7CiAgICAgIH0KCiAgICAgIGRlbHRhICs9IChtIC0gbikgKiBoYW5kbGVkQ1BDb3VudFBsdXNPbmU7CiAgICAgIG4gPSBtOwoKICAgICAgZm9yIChqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHsKICAgICAgICBjdXJyZW50VmFsdWUgPSBpbnB1dFtqXTsKCiAgICAgICAgaWYgKGN1cnJlbnRWYWx1ZSA8IG4gJiYgKytkZWx0YSA+IG1heEludCkgewogICAgICAgICAgZXJyb3IoJ292ZXJmbG93Jyk7CiAgICAgICAgfQoKICAgICAgICBpZiAoY3VycmVudFZhbHVlID09IG4pIHsKICAgICAgICAgIC8vIFJlcHJlc2VudCBkZWx0YSBhcyBhIGdlbmVyYWxpemVkIHZhcmlhYmxlLWxlbmd0aCBpbnRlZ2VyCiAgICAgICAgICBmb3IgKHEgPSBkZWx0YSwgayA9IGJhc2U7OwogICAgICAgICAgLyogbm8gY29uZGl0aW9uICovCiAgICAgICAgICBrICs9IGJhc2UpIHsKICAgICAgICAgICAgdCA9IGsgPD0gYmlhcyA/IHRNaW4gOiBrID49IGJpYXMgKyB0TWF4ID8gdE1heCA6IGsgLSBiaWFzOwoKICAgICAgICAgICAgaWYgKHEgPCB0KSB7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHFNaW51c1QgPSBxIC0gdDsKICAgICAgICAgICAgYmFzZU1pbnVzVCA9IGJhc2UgLSB0OwogICAgICAgICAgICBvdXRwdXQucHVzaChzdHJpbmdGcm9tQ2hhckNvZGUoZGlnaXRUb0Jhc2ljKHQgKyBxTWludXNUICUgYmFzZU1pbnVzVCwgMCkpKTsKICAgICAgICAgICAgcSA9IGZsb29yKHFNaW51c1QgLyBiYXNlTWludXNUKTsKICAgICAgICAgIH0KCiAgICAgICAgICBvdXRwdXQucHVzaChzdHJpbmdGcm9tQ2hhckNvZGUoZGlnaXRUb0Jhc2ljKHEsIDApKSk7CiAgICAgICAgICBiaWFzID0gYWRhcHQoZGVsdGEsIGhhbmRsZWRDUENvdW50UGx1c09uZSwgaGFuZGxlZENQQ291bnQgPT0gYmFzaWNMZW5ndGgpOwogICAgICAgICAgZGVsdGEgPSAwOwogICAgICAgICAgKytoYW5kbGVkQ1BDb3VudDsKICAgICAgICB9CiAgICAgIH0KCiAgICAgICsrZGVsdGE7CiAgICAgICsrbjsKICAgIH0KCiAgICByZXR1cm4gb3V0cHV0LmpvaW4oJycpOwogIH0KICAvKioKICAgKiBDb252ZXJ0cyBhIFB1bnljb2RlIHN0cmluZyByZXByZXNlbnRpbmcgYSBkb21haW4gbmFtZSBvciBhbiBlbWFpbCBhZGRyZXNzCiAgICogdG8gVW5pY29kZS4gT25seSB0aGUgUHVueWNvZGVkIHBhcnRzIG9mIHRoZSBpbnB1dCB3aWxsIGJlIGNvbnZlcnRlZCwgaS5lLgogICAqIGl0IGRvZXNuJ3QgbWF0dGVyIGlmIHlvdSBjYWxsIGl0IG9uIGEgc3RyaW5nIHRoYXQgaGFzIGFscmVhZHkgYmVlbgogICAqIGNvbnZlcnRlZCB0byBVbmljb2RlLgogICAqIEBtZW1iZXJPZiBwdW55Y29kZQogICAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgUHVueWNvZGVkIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MgdG8KICAgKiBjb252ZXJ0IHRvIFVuaWNvZGUuCiAgICogQHJldHVybnMge1N0cmluZ30gVGhlIFVuaWNvZGUgcmVwcmVzZW50YXRpb24gb2YgdGhlIGdpdmVuIFB1bnljb2RlCiAgICogc3RyaW5nLgogICAqLwoKCiAgZnVuY3Rpb24gdG9Vbmljb2RlKGlucHV0KSB7CiAgICByZXR1cm4gbWFwRG9tYWluKGlucHV0LCBmdW5jdGlvbiAoc3RyaW5nKSB7CiAgICAgIHJldHVybiByZWdleFB1bnljb2RlLnRlc3Qoc3RyaW5nKSA/IGRlY29kZShzdHJpbmcuc2xpY2UoNCkudG9Mb3dlckNhc2UoKSkgOiBzdHJpbmc7CiAgICB9KTsKICB9CiAgLyoqCiAgICogQ29udmVydHMgYSBVbmljb2RlIHN0cmluZyByZXByZXNlbnRpbmcgYSBkb21haW4gbmFtZSBvciBhbiBlbWFpbCBhZGRyZXNzIHRvCiAgICogUHVueWNvZGUuIE9ubHkgdGhlIG5vbi1BU0NJSSBwYXJ0cyBvZiB0aGUgZG9tYWluIG5hbWUgd2lsbCBiZSBjb252ZXJ0ZWQsCiAgICogaS5lLiBpdCBkb2Vzbid0IG1hdHRlciBpZiB5b3UgY2FsbCBpdCB3aXRoIGEgZG9tYWluIHRoYXQncyBhbHJlYWR5IGluCiAgICogQVNDSUkuCiAgICogQG1lbWJlck9mIHB1bnljb2RlCiAgICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBkb21haW4gbmFtZSBvciBlbWFpbCBhZGRyZXNzIHRvIGNvbnZlcnQsIGFzIGEKICAgKiBVbmljb2RlIHN0cmluZy4KICAgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgUHVueWNvZGUgcmVwcmVzZW50YXRpb24gb2YgdGhlIGdpdmVuIGRvbWFpbiBuYW1lIG9yCiAgICogZW1haWwgYWRkcmVzcy4KICAgKi8KCgogIGZ1bmN0aW9uIHRvQVNDSUkoaW5wdXQpIHsKICAgIHJldHVybiBtYXBEb21haW4oaW5wdXQsIGZ1bmN0aW9uIChzdHJpbmcpIHsKICAgICAgcmV0dXJuIHJlZ2V4Tm9uQVNDSUkudGVzdChzdHJpbmcpID8gJ3huLS0nICsgZW5jb2RlKHN0cmluZykgOiBzdHJpbmc7CiAgICB9KTsKICB9CiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCgogIC8qKiBEZWZpbmUgdGhlIHB1YmxpYyBBUEkgKi8KCgogIHB1bnljb2RlID0gewogICAgLyoqCiAgICAgKiBBIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIGN1cnJlbnQgUHVueWNvZGUuanMgdmVyc2lvbiBudW1iZXIuCiAgICAgKiBAbWVtYmVyT2YgcHVueWNvZGUKICAgICAqIEB0eXBlIFN0cmluZwogICAgICovCiAgICAndmVyc2lvbic6ICcxLjQuMScsCgogICAgLyoqCiAgICAgKiBBbiBvYmplY3Qgb2YgbWV0aG9kcyB0byBjb252ZXJ0IGZyb20gSmF2YVNjcmlwdCdzIGludGVybmFsIGNoYXJhY3RlcgogICAgICogcmVwcmVzZW50YXRpb24gKFVDUy0yKSB0byBVbmljb2RlIGNvZGUgcG9pbnRzLCBhbmQgYmFjay4KICAgICAqIEBzZWUgPGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LWVuY29kaW5nPgogICAgICogQG1lbWJlck9mIHB1bnljb2RlCiAgICAgKiBAdHlwZSBPYmplY3QKICAgICAqLwogICAgJ3VjczInOiB7CiAgICAgICdkZWNvZGUnOiB1Y3MyZGVjb2RlLAogICAgICAnZW5jb2RlJzogdWNzMmVuY29kZQogICAgfSwKICAgICdkZWNvZGUnOiBkZWNvZGUsCiAgICAnZW5jb2RlJzogZW5jb2RlLAogICAgJ3RvQVNDSUknOiB0b0FTQ0lJLAogICAgJ3RvVW5pY29kZSc6IHRvVW5pY29kZQogIH07CiAgLyoqIEV4cG9zZSBgcHVueWNvZGVgICovCiAgLy8gU29tZSBBTUQgYnVpbGQgb3B0aW1pemVycywgbGlrZSByLmpzLCBjaGVjayBmb3Igc3BlY2lmaWMgY29uZGl0aW9uIHBhdHRlcm5zCiAgLy8gbGlrZSB0aGUgZm9sbG93aW5nOgoKICBpZiAodHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIF90eXBlb2YoZGVmaW5lLmFtZCkgPT0gJ29iamVjdCcgJiYgZGVmaW5lLmFtZCkgewogICAgZGVmaW5lKCdwdW55Y29kZScsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHB1bnljb2RlOwogICAgfSk7CiAgfSBlbHNlIGlmIChmcmVlRXhwb3J0cyAmJiBmcmVlTW9kdWxlKSB7CiAgICBpZiAobW9kdWxlLmV4cG9ydHMgPT0gZnJlZUV4cG9ydHMpIHsKICAgICAgLy8gaW4gTm9kZS5qcywgaW8uanMsIG9yIFJpbmdvSlMgdjAuOC4wKwogICAgICBmcmVlTW9kdWxlLmV4cG9ydHMgPSBwdW55Y29kZTsKICAgIH0gZWxzZSB7CiAgICAgIC8vIGluIE5hcndoYWwgb3IgUmluZ29KUyB2MC43LjAtCiAgICAgIGZvciAoa2V5IGluIHB1bnljb2RlKSB7CiAgICAgICAgcHVueWNvZGUuaGFzT3duUHJvcGVydHkoa2V5KSAmJiAoZnJlZUV4cG9ydHNba2V5XSA9IHB1bnljb2RlW2tleV0pOwogICAgICB9CiAgICB9CiAgfSBlbHNlIHsKICAgIC8vIGluIFJoaW5vIG9yIGEgd2ViIGJyb3dzZXIKICAgIHJvb3QucHVueWNvZGUgPSBwdW55Y29kZTsKICB9Cn0pKHZvaWQgMCk7CgppZiAobW9kdWxlLmhvdCkgewogIG1vZHVsZS5ob3QuYWNjZXB0KCk7Cn0="},null]}